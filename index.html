<!DOCTYPE html>
<html>
<head>
    <title>ProVideoEditor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { margin: 0; background: #0f172a; color: white; font-family: Arial; }
        .header { background: #1e293b; padding: 20px; text-align: center; }
        .main { display: flex; height: calc(100vh - 80px); }
        .sidebar { width: 250px; background: #1e293b; padding: 15px; }
        .preview { flex: 1; background: black; display: flex; align-items: center; justify-content: center; }
        .timeline { height: 200px; background: #1e293b; padding: 15px; position: relative; }
        .playhead { position: absolute; width: 2px; background: red; height: 100%; left: 50%; top: 0; }
        .clip { background: #3b82f6; padding: 10px; margin: 5px; border-radius: 4px; }
        #loading { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #0f172a; display: none; z-index: 9999; }
    </style>
</head>
<body>
    <!-- √âcran de chargement - D√âSACTIV√â PAR D√âFAUT -->
    <div id="loading" style="display: none;">
        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center;">
            <div style="width: 50px; height: 50px; border: 5px solid #334155; border-top: 5px solid #3b82f6; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 20px;"></div>
            <h2>Chargement de ProVideoEditor...</h2>
            <p>Pr√©paration de l'environnement de montage</p>
        </div>
    </div>

    <!-- Application principale - VISIBLE PAR D√âFAUT -->
    <div id="app">
        <div class="header">
            <h1 style="font-size: 24px; margin: 0;">üé¨ ProVideoEditor - PR√äT</h1>
            <button onclick="importMedia()" style="background: #3b82f6; color: white; border: none; padding: 10px 20px; margin: 10px; border-radius: 5px; cursor: pointer;">
                üìÅ Importer des vid√©os
            </button>
        </div>
        
        <div class="main">
            <div class="sidebar">
                <h3>M√©diath√®que</h3>
                <div id="mediaList">Aucun m√©dia</div>
            </div>
            
            <div class="preview">
                <div style="text-align: center;">
                    <div style="font-size: 48px; margin-bottom: 20px;">üìπ</div>
                    <h2>Aper√ßu Vid√©o</h2>
                    <p>Temps: <span id="time">00:00:00</span></p>
                    <button onclick="togglePlay()" style="background: #ef4444; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin-top: 10px;">
                        ‚ñ∂ Lecture
                    </button>
                </div>
            </div>
        </div>
        
        <div class="timeline">
            <h3>Timeline</h3>
            <div style="background: #334155; height: 60px; position: relative; border-radius: 4px;">
                <div id="videoTrack" style="position: absolute; top: 5px; left: 0; right: 0; bottom: 5px;"></div>
                <div class="playhead" id="playhead"></div>
            </div>
        </div>
    </div>

    <script>
        // Variables globales
        let isPlaying = false;
        let currentTime = 0;
        let playInterval = null;
        let mediaFiles = [];

        // Fonction pour importer des m√©dias
        function importMedia() {
            const files = [
                { name: 'video1.mp4', type: 'video', duration: 60 },
                { name: 'audio1.mp3', type: 'audio', duration: 45 },
                { name: 'image1.jpg', type: 'image', duration: 0 }
            ];
            
            mediaFiles = files;
            updateMediaList();
            createTimelineClips();
            
            document.querySelector('.preview h2').textContent = 'M√©dias charg√©s !';
        }

        // Mettre √† jour la liste des m√©dias
        function updateMediaList() {
            const mediaList = document.getElementById('mediaList');
            mediaList.innerHTML = '';
            
            mediaFiles.forEach(file => {
                const div = document.createElement('div');
                div.className = 'clip';
                div.textContent = `${file.type === 'video' ? 'üé•' : file.type === 'audio' ? 'üéµ' : 'üñºÔ∏è'} ${file.name}`;
                mediaList.appendChild(div);
            });
        }

        // Cr√©er les clips dans la timeline
        function createTimelineClips() {
            const videoTrack = document.getElementById('videoTrack');
            videoTrack.innerHTML = '';
            
            mediaFiles.forEach((file, index) => {
                const clip = document.createElement('div');
                clip.className = 'clip';
                clip.style.cssText = `
                    position: absolute;
                    left: ${index * 120}px;
                    top: 5px;
                    width: 100px;
                    height: 40px;
                    background: ${file.type === 'video' ? '#3b82f6' : file.type === 'audio' ? '#10b981' : '#f59e0b'};
                    color: white;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    border-radius: 4px;
                    cursor: move;
                `;
                clip.textContent = file.name;
                videoTrack.appendChild(clip);
            });
        }

        // Contr√¥le de lecture
        function togglePlay() {
            isPlaying = !isPlaying;
            const button = document.querySelector('.preview button');
            
            if (isPlaying) {
                button.textContent = '‚è∏ Pause';
                button.style.background = '#f59e0b';
                
                playInterval = setInterval(() => {
                    currentTime++;
                    updateTimeDisplay();
                    updatePlayhead();
                }, 1000);
            } else {
                button.textContent = '‚ñ∂ Lecture';
                button.style.background = '#ef4444';
                
                if (playInterval) {
                    clearInterval(playInterval);
                    playInterval = null;
                }
            }
        }

        // Mettre √† jour l'affichage du temps
        function updateTimeDisplay() {
            const hours = Math.floor(currentTime / 3600).toString().padStart(2, '0');
            const minutes = Math.floor((currentTime % 3600) / 60).toString().padStart(2, '0');
            const seconds = (currentTime % 60).toString().padStart(2, '0');
            
            document.getElementById('time').textContent = `${hours}:${minutes}:${seconds}`;
        }

        // Mettre √† jour le playhead
        function updatePlayhead() {
            const playhead = document.getElementById('playhead');
            const progress = (currentTime % 120) / 120 * 100;
            playhead.style.left = progress + '%';
        }

        // Animation du playhead (m√™me sans lecture)
        setInterval(() => {
            if (!isPlaying) {
                const playhead = document.getElementById('playhead');
                const idleProgress = (Date.now() / 20000) % 100;
                playhead.style.left = idleProgress + '%';
            }
        }, 100);

        // Glisser-d√©poser
        document.addEventListener('dragover', (e) => e.preventDefault());
        document.addEventListener('drop', (e) => {
            e.preventDefault();
            alert(`${e.dataTransfer.files.length} fichier(s) pr√™t(s) √† √™tre import√©(s)`);
        });

        // Style pour l'animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
